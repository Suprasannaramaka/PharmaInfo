<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medicines(A-Z)</title>
    <link rel="stylesheet" href="Medicine names(A-Z).css"/>
</head>
<body>
    <header>
        <h1>PharmaInfo</h1>
        <input type="text" id="search-input" placeholder="Search for medicines, Alternatives..." onkeyup="searchMedicines()">
        <div id="search-results"></div>
    </header>

    <div class="medicine-names">
        <br>
        <div class="row">
            <div class="alphabets">
                <button><a href="Medicines-A.html"><span class="alpha">A</span></a></button>
                <button><a href="Medicines-B.html"><span class="alpha">B</span></a></button>
                <button><a href="Medicines-C.html"><span class="alpha">C</span></a></button>
                <button><a href="Medicines-D.html"><span class="alpha">D</span></a></button>
                <button><a href="Medicines-E.html"><span class="alpha">E</span></a></button>
                <button><a href="Medicines-F.html"><span class="alpha">F</span></a></button>
                <button><a href="Medicines-G.html"><span class="alpha">G</span></a></button>
                <button><a href="Medicines-H.html"><span class="alpha">H</span></a></button>
                <button><a href="Medicines-I.html"><span class="alpha">I</span></a></button>
                <button><a href="Medicines-J.html"><span class="alpha">J</span></a></button>
                <button><a href="Medicines-K.html"><span class="alpha">K</span></a></button>
                <button><a href="Medicines-L.html"><span class="alpha">L</span></a></button>
                <button><a href="Medicines-M.html"><span class="alpha">M</span></a></button>
                <button><a href="Medicines-N.html"><span class="alpha">N</span></a></button>
                <button><a href="Medicines-O.html"><span class="alpha">O</span></a></button>
                <button><a href="Medicines-P.html"><span class="alpha">P</span></a></button>
                <button><a href="Medicines-Q.html"><span class="alpha">Q</span></a></button>
                <button><a href="Medicines-R.html"><span class="alpha">R</span></a></button>
                <button><a href="Medicines-S.html"><span class="alpha">S</span></a></button>
                <button><a href="Medicines-T.html"><span class="alpha">T</span></a></button>
                <button><a href="Medicines-U.html"><span class="alpha">U</span></a></button>
                <button><a href="Medicines-V.html"><span class="alpha">V</span></a></button>
                <button><a href="Medicines-W.html"><span class="alpha">W</span></a></button>
                <button><a href="Medicines-X.html"><span class="alpha">X</span></a></button>
                <button><a href="Medicines-Y.html"><span class="alpha">Y</span></a></button>
                <button><a href="Medicines-Z.html"><span class="alpha">Z</span></a></button>
            </div>
        </div>
    </div>

    <footer>
    </footer>

    <script>
        // Function to handle the search query and call the API
        function searchMedicines() {
            let query = document.getElementById("search-input").value; // Get search input
            let resultDiv = document.getElementById("search-results"); // Div to display results
            
            // Clear previous results
            resultDiv.innerHTML = "";

            // If query is empty, don't proceed
            if (query.trim() === "") return;

            // Create the URL for the API request
            let apiUrl = `http://139.59.37.38/pharmainfo/searchpi.php?query=${encodeURIComponent(query)}`;

            // Fetch the API data
            fetch(apiUrl)
                .then(response => response.json())  // Assume the response is in JSON format
                .then(data => {
                    if (data && data.length > 0) {
                        data.forEach(medicine => {
                            // For each medicine, display its name in the results
                            let resultItem = document.createElement("div");
                            resultItem.classList.add("search-item");
                            resultItem.innerHTML = `
                                <a href="medicine.html?medication=${encodeURIComponent(medicine.name)}">${medicine.name}</a>
                                <p>${medicine.description}</p>
                            `;
                            resultDiv.appendChild(resultItem);
                        });
                    } else {
                        resultDiv.innerHTML = "<p>No results found</p>";
                    }
                })
                .catch(error => {
                    resultDiv.innerHTML = "<p>Error fetching search results</p>";
                    console.error('Error:', error);
                });
        }
    </script>
</body>
</html>
